import{c as e,_ as i,p as t,b as a,a as r,L as s,h as o}from"./06e1fa4e.js";let d,n,l,p,c,m,g=e=>e,y=class extends s{constructor(){super(...arguments),this.teams=[]}render(){return o(d||(d=g` <img class="back" src="images/menu/arrow-left.svg" @click="${0}"> <header>Tap a player to edit</header> <main> ${0} <button class="fight" @click="${0}">Fight</button> </main> `),this.back,this.teams.map(((e,i)=>o(n||(n=g` <div class="team"> ${0} </div> `),e.map(((i,t)=>o(l||(l=g` <div class="player ${0}" @click="${0}"> <img class="commander" src="i/face/${0}.png" alt=""> <div class="details"> <div class="name">Player ${0} (${0})</div> <div class="money"> <img src="images/gold.svg" alt=""> ${0} </div> <div class="unit-limit"> <img src="images/unit-limit.svg" alt=""> ${0} </div> ${0} </div> </div> `),i.color,(()=>this.openPlayer(i)),i.commander,i.id+1,"ai"===i.type?"AI":"Human",i.money,i.unitLimit,t===e.length-1?o(p||(p=g` <div class="team-name">Team ${0}</div> `),i.teamId):o(c||(c=g``)))))))),this.openBattle)}async open(e){if(this.map=e||window.map,window.map=this.map,this.style.zIndex="1",window.teams)this.teams=window.teams;else{const i=await window.battleConfigurationService.preparePreferences(e.id);this.teams=i.players.map((e=>[e]))}window.teams=this.teams}close(){this.style.zIndex="0"}openPlayer(e){document.querySelector("ae-setup-player").open(e,this.map.players.length)}openBattle(){this.close();const e=this.teams.flat(),i={id:this.map.id,players:e};new window.BattleView(window.battleRepository,window.eventService,window.apiService,window.ai,window.soundService).open(),window.apiService.startMission(this.map.id,i)}back(){this.close();document.querySelector("ae-select-map").open()}};y.styles=e(m||(m=g`:host{display:grid;grid-template-rows:auto auto 1fr;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%;background:#242a45;padding-top:32px;box-sizing:border-box}.back{padding:16px;cursor:pointer;position:absolute;top:0;left:0}header{padding:16px;text-align:center;font-size:120%}main{display:grid;grid-gap:16px;overflow:auto;padding:16px 0;width:375px}.team{border-radius:8px;border:2px solid #c5c2c8;box-sizing:border-box}.player{display:grid;grid-template-columns:auto 1fr;grid-gap:16px;height:80px;box-sizing:border-box}.player.red{background:linear-gradient(51.77deg,#980034 21.09%,#e01d65 69.93%)}.player.blue{background:linear-gradient(51.77deg,#007594 21.09%,#4195e6 69.93%)}.player.green{background:linear-gradient(51.77deg,#007372 21.09%,#01ad32 69.93%)}.player.black{background:linear-gradient(51.77deg,#1e1e1e 21.09%,#323232 69.93%)}.player .commander{height:80px}.player .details{display:grid;grid-template-columns:80px 60px 1fr;align-items:center}.player .details .name{grid-column:span 3;font-size:120%}.player .details .money{display:flex;align-items:center}.player .details .money img{margin-right:8px}.player .details .unit-limit{display:flex;align-items:center}.player .details .unit-limit img{margin-right:8px}.player .details .team-name{background:rgba(16,10,23,.48);border-radius:3px;justify-self:center;padding:4px 8px}.player:not(:last-child){border-bottom:2px solid #c5c2c8}.player:first-child{border-top-left-radius:8px;border-top-right-radius:8px}.player:last-child{border-bottom-left-radius:8px;border-bottom-right-radius:8px}button.fight{justify-self:center;min-width:200px;margin-top:16px;background:radial-gradient(50% 50% at 50% 50%,#44325c 21.07%,#2a1f38 100%);border-radius:8px;border:2px solid #c5c2c8;height:40px;padding:0 24px;box-sizing:border-box;outline:0;cursor:pointer;font-style:normal;font-weight:400;font-size:20px;line-height:26px;display:flex;align-items:center;justify-content:center;color:#fff}`)),i([t({type:Object})],y.prototype,"map",void 0),i([t({type:Array})],y.prototype,"teams",void 0),i([a(".item")],y.prototype,"items",void 0),y=i([r("ae-setup-map")],y);
