class e{constructor(){this.listeners=[]}initSettings(){const t=localStorage.getItem(e.key);if(t)this.settings=JSON.parse(t);else{let t=navigator.language.split("-")[0].toLocaleLowerCase().toLowerCase();Object.keys(e.languages).includes(t)||(t="en"),this.setSettings({language:t,music:!0,autosave:!0})}}setSettings(t){this.settings=t,localStorage.setItem(e.key,JSON.stringify(t)),this.emitEvent()}addEventListener(e){this.listeners.push(e)}emitEvent(){this.listeners.forEach((e=>e(this.settings)))}}e.key="settings",e.languages=[{value:"en",label:"English"},{value:"es",label:"Español"},{value:"ru",label:"Русский"},{value:"zh",label:"简体中文"}],window.settingsService=new e,window.settingsService.initSettings();export{e as S};
