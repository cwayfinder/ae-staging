import{c as i}from"./d1ada6f5.js";import{c as t,_ as e,p as s,a,L as o,h as n}from"./f0da52c9.js";let d,r,l,c,p,g=i=>i,u=class extends o{constructor(){super(...arguments),this.units=[],this.selected=null}render(){return n(d||(d=g` <div class="list-container"> <div class="label">Recruit unit</div> <div class="list"> ${0} </div> </div> ${0} <div class="cancel" @click="${0}">Cancel</div> `),this.units.map((i=>{var t;return n(r||(r=g` <div class="item ${0}" @click="${0}"> <div class="image" style="background-image:url(assets/images/unit/unit-${0}-${0}.png)"></div> </div> `),i.type===(null===(t=this.selected)||void 0===t?void 0:t.type)?"active":"",(()=>this.select(i)),i.type,i.cost>this.money?"gray":this.color)})),this.selected?n(l||(l=g` <div class="unit-info"> <div class="name">${0}</div> <div class="stats"> <div class="item"> <img src="assets/images/ui/atk.svg" alt=""> ${0}-${0} </div> <div class="item"> <img src="assets/images/ui/def.svg" alt=""> ${0} </div> <div class="item"> <img src="assets/images/ui/mov.svg" alt=""> ${0} </div> </div> <div class="description">${0}</div> <div class="abilities"> <div class="header">Abilities</div> ${0} </div> <div class="cost"> <div class="gold ${0}"> <img src="assets/images/ui/gold.svg" alt=""> ${0} </div> <button class="buy" ?disabled="${0}" @click="${0}">Buy</button> </div> </div> `),this.selected.name,this.selected.atk.min,this.selected.atk.max,this.selected.def,this.selected.mov,this.selected.description,this.selected.abilities.map((i=>n(c||(c=g` <div class="item"> <span class="label">${0}</span> - <span class="label">${0}</span> </div> `),i.label,i.description))),this.selected.cost>this.money?"insufficient":"",this.selected.cost,this.selected.cost>this.money,this.buy):"",this.close)}close(){this.remove()}select(i){this.selected=i}buy(){this.selected&&(this.selected.id?this.dispatchEvent(i("unit-store-revive",{id:this.selected.id,storeCell:this.storeCell})):this.dispatchEvent(i("unit-store-purchase",{type:this.selected.type,storeCell:this.storeCell})),this.close())}};u.styles=t(p||(p=g`:host{display:grid;grid-template-rows:auto auto;align-content:start;position:fixed;top:0;left:0;width:100%;height:100%;z-index:100;background:rgba(0,0,0,.5);padding-top:80px;box-sizing:border-box}.list-container{background:radial-gradient(50% 50% at 50% 50%,#44325c 21.07%,#2a1f38 100%);border-radius:8px;border:2px solid #c5c2c8;padding:24px 8px;margin:8px;display:flex;flex-direction:column;align-items:center}.label{text-align:center;margin-bottom:24px}.list{display:flex;flex-wrap:wrap;justify-content:center}.list .item{padding:8px;cursor:pointer;box-sizing:border-box}.list .item.active,.list .item:hover{background:radial-gradient(50% 50% at 50% 50%,#44325c 21.07%,#2a1f38 100%);border-radius:8px;border:2px solid #c5c2c8;padding:6px}.list .item .image{width:48px;height:48px;background-size:100% auto;background-repeat:no-repeat;animation-duration:.6s;animation-name:unit-bg-shift;animation-iteration-count:infinite;animation-direction:normal;animation-timing-function:steps(2);animation-fill-mode:forwards}.unit-info{background:#100a17;padding:16px;margin:8px;border-radius:8px}.unit-info .stats{display:grid;grid-auto-flow:column;justify-content:start;grid-gap:24px}.unit-info .stats .item{display:flex;align-items:center}.unit-info .stats .item img{margin-right:8px;height:24px}.unit-info .cost{margin-top:24px;display:flex;justify-content:space-between}.unit-info .cost .gold{height:40px;padding:0 16px;background:#2d2733;border-radius:8px;box-sizing:border-box;font-style:normal;font-weight:400;font-size:20px;line-height:26px;display:flex;align-items:center;justify-content:center;color:#fff}.unit-info .cost .gold.insufficient{background:#5b131b}.unit-info .cost .gold img{margin-right:8px}.unit-info .cost .buy{background:radial-gradient(50% 50% at 50% 50%,#44325c 21.07%,#2a1f38 100%);border-radius:8px;border:2px solid #c5c2c8;padding:0 16px;height:40px;box-sizing:border-box;outline:0;cursor:pointer;font-style:normal;font-weight:400;font-size:20px;line-height:26px;display:flex;align-items:center;justify-content:center;color:#fff}.description{margin:12px 0}.abilities .header,.effects .header{font-size:120%;margin-bottom:4px}.unit-info .cost .buy[disabled]{cursor:auto;opacity:.5}.cancel{position:absolute;bottom:24px;right:24px;height:40px;padding:0 16px;background:radial-gradient(50% 50% at 50% 50%,#44325c 21.07%,#2a1f38 100%);border-radius:8px;border:2px solid #c5c2c8;box-sizing:border-box;outline:0;cursor:pointer;font-style:normal;font-weight:400;font-size:20px;line-height:26px;display:flex;align-items:center;justify-content:center;color:#fff}`)),e([s({type:Number})],u.prototype,"money",void 0),e([s({type:Number})],u.prototype,"color",void 0),e([s({type:Array})],u.prototype,"units",void 0),e([s({type:Array})],u.prototype,"availableUnits",void 0),e([s({type:Object})],u.prototype,"selected",void 0),e([s({type:Object})],u.prototype,"storeCell",void 0),u=e([a("ae-unit-store")],u);
