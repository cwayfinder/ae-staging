import{c as t,_ as e,a as o,L as a,h as n}from"./06e1fa4e.js";let i,s,r=t=>t,l=class extends a{render(){return n(i||(i=r``))}getUnit(t){var e;return null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(`ae-unit[data-unit-id="${t}"]`)}addUnit(t){const e=document.createElement("ae-unit");e.unitId=t.id,e.cell=t.cell,e.type=t.type,e.color=t.color,e.health=t.health,e.defaultHealth=t.defaultHealth,e.active=t.active,e.level=t.level,e.underWispAura=t.underWispAura,e.poisoned=t.poisoned,e.animationDuration=200,setTimeout((()=>{this.shadowRoot&&this.shadowRoot.append(e)}))}updateUnit(t,e){setTimeout((()=>{const o=this.getUnit(t);for(const[t,a]of Object.entries(e))o[t]=a}))}removeUnit(t){const e=this.getUnit(t);null==e||e.remove()}moveUnit(t,e){return this.getUnit(t).move(e)}setUnitHealth(t,e){const o=this.getUnit(t),a=e-o.health;return o.health=e,o.runHealthChangeAnimation(a)}addGrave(t){const e=document.createElement("ae-grave");e.graveId=t.id,e.cell=t.cell,setTimeout((()=>{this.shadowRoot&&this.shadowRoot.append(e)}))}getGrave(t){var e;return null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(`ae-grave[data-grave-id="${t}"]`)}removeGrave(t){const e=this.getGrave(t);null==e||e.remove()}showAttack({from:t,to:e}){const o=document.createElement("ae-attack");if(!this.shadowRoot)throw new Error("No shadowRoot");return this.shadowRoot.append(o),o.move(t,e).then((()=>o.remove()))}clear(){this.shadowRoot&&(this.shadowRoot.innerHTML="")}};l.styles=t(s||(s=r`:host{display:block;position:absolute;left:0;right:0;top:0;bottom:0}`)),l=e([o("ae-units-layer")],l);
