import{c as e,_ as i,p as t,a as s,L as a,h as n}from"./06e1fa4e.js";let o,r,l,m=e=>e,d=class extends a{render(){return n(o||(o=m` <img class="back" src="images/menu/arrow-left.svg" @click="${0}"> <header>Campaign</header> <div class="list"> ${0} </div> `),this.close,this.missions.map(((e,i)=>n(r||(r=m` <div class="item" @click="${0}">${0}. ${0}</div> `),(()=>this.openMission(e)),i+1,e.name))))}open(){this.style.zIndex="1"}close(){this.style.zIndex="0"}connectedCallback(){super.connectedCallback(),this.missions=Object.entries(window.APP.maps).filter((([e,i])=>"mission"===i.type)).map((([e,i])=>{return{...i,key:e,name:(t=i.name,t[0]+t.toLowerCase().substring(1))};var t}))}openMission(e){let i;this.close(),i=e.players?[{...e.players[0],type:"player",color:"blue",teamNumber:1,unitLimit:e.unitLimit||25,commander:{name:null,isLive:!1,xp:0}},{...e.players[1],type:"cpu",color:"red",teamNumber:2,unitLimit:e.unitLimit||25,commander:{name:null,isLive:!1,xp:0}}]:[{teamNumber:1,id:0,type:"player",color:"blue",money:500,unitLimit:e.unitLimit||25,commander:{name:null,isLive:!1,xp:0}},{teamNumber:2,id:1,type:"cpu",color:"red",money:500,unitLimit:e.unitLimit||25,commander:{name:null,isLive:!1,xp:0}}],i.forEach((i=>{const t=e.units.filter((e=>e.ownerId===i.id)).find((e=>["galamar","valadorn","demon-lord","saeth"].includes(e.type)));i.commander.name=null==t?void 0:t.type}));const t={jsMapKey:e.key,type:"mission",players:i};(new window.BattleView).create(t,e)}};d.styles=e(l||(l=m`:host{display:grid;grid-gap:24px;justify-content:center;align-content:start;position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(452.12% 96.43% at 50.13% 2.4%,#44325c 0,#100a17 84.48%);padding:32px 0;box-sizing:border-box}header{text-align:center;font-size:120%}.back{padding:16px;cursor:pointer;position:absolute;top:0;left:0}.list{display:grid;grid-gap:8px}`)),i([t({type:Array})],d.prototype,"missions",void 0),d=i([s("ae-select-mission")],d);
