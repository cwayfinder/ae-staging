import{c as e,_ as t,p as i,a as o,L as s,h as a}from"./06e1fa4e.js";import{f as r}from"./d71ea143.js";let n,d,l,c=e=>e,p=class extends s{render(){return a(n||(n=c` <img class="back" src="images/menu/arrow-left.svg" @click="${0}"> <header>Load Game</header> <div class="list"> ${0} </div> `),this.close,this.items.map((e=>a(d||(d=c` <div class="item" @click="${0}"> <div class="details"> <div class="name">${0}</div> <div class="datetime">${0}</div> </div> <div class="remove" @click="${0}"> <img src="images/icons/trash.svg" alt=""> </div> </div> `),(()=>this.loadBattle(e.key)),e.name,r(e.date,"PP p"),(t=>{t.stopPropagation(),this.removeItem(e.key)})))))}open(){this.style.zIndex="1"}close(){this.style.zIndex="0"}connectedCallback(){super.connectedCallback(),this.loadList()}loadList(){const e="[saved-battle] ";this.items=Object.keys(localStorage).filter((t=>t.startsWith(e))).map((t=>{const i=t.slice(e.length).split(" | ");return{key:t,name:i[0],date:Number(i[1])}})).sort(((e,t)=>t.date-e.date))}loadBattle(e){this.close(),window.battleConfigurationService.load(e);new window.BattleView(window.battleRepository,window.eventService,window.apiService,window.ai,window.soundService).open(),window.battleConfigurationService.init()}removeItem(e){localStorage.removeItem(e),this.loadList()}};p.styles=e(l||(l=c`:host{display:grid;grid-gap:24px;justify-content:center;align-content:start;position:fixed;top:0;left:0;width:100%;height:100%;background:#242a45;padding:32px 0;box-sizing:border-box}header{text-align:center;font-size:120%}.list{border:2px solid #c1b7ce;box-sizing:border-box;border-radius:3px;width:375px;overflow:auto}.item{padding:8px;cursor:pointer;display:flex;justify-content:space-between;align-items:center}.item .name{font-size:120%;margin-bottom:8px}.item .datetime{font-style:normal;font-weight:400;font-size:14px;line-height:16px;color:#b6b6b6}.item .remove{height:40px;width:40px;background:#524a5c;border-radius:3px;display:flex;align-items:center;justify-content:center;cursor:pointer}.list .item:not(:last-child){border-bottom:1px solid #c1b7ce}.back{padding:16px;cursor:pointer;position:absolute;top:0;left:0}`)),t([i({type:Array})],p.prototype,"items",void 0),p=t([o("ae-load-battle")],p);
