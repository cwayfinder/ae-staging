import{c as e,_ as t,p as s,b as i,a,L as r,h as o}from"./06e1fa4e.js";let l,n,p,c=e=>e,d=class extends r{constructor(){super(...arguments),this.active=1,this.playersCount=2}render(){var e;return o(l||(l=c` <img class="back" src="images/menu/arrow-left.svg" @click="${0}"> <header>Select map</header> <div class="filters"> <div class="picker"> <img src="images/icons/left.svg" alt="" @click="${0}"> <div class="players-label">Players: ${0}</div> <img src="images/icons/right.svg" alt="" @click="${0}"> </div> </div> <div class="list"> ${0} </div> <div class="preview"> <img src="assets/images/map/${0}_preview.png" alt=""> </div> <button class="submit" @click="${0}">Start</button> `),this.close,this.decreasePlayersCount,this.playersCount,this.increasePlayersCount,(this.mapsToDisplay||[]).map(((e,t)=>{var s;return o(n||(n=c` <div class="item ${0}" @click="${0}"> <div class="name">${0}</div> <div class="size">${0}x${0}</div> </div> `),(null===(s=this.selected)||void 0===s?void 0:s.id)===e.id?"selected":"",(()=>this.select(e)),e.name,e.size.width,e.size.height)})),null===(e=this.selected)||void 0===e?void 0:e.id,this.openSetup)}open(){this.style.zIndex="1"}close(){this.style.zIndex="0"}select(e){this.selected=e,this.requestUpdate()}connectedCallback(){super.connectedCallback(),this.initMaps()}async initMaps(){this.maps=await fetch("/assets/maps-preview.json").then((e=>e.json())),this.maps=this.maps.map((e=>({...e,name:e.i18n.en.name}))).sort(((e,t)=>e.name.localeCompare(t.name))),this.filter()}filter(){this.mapsToDisplay=this.maps.filter((e=>e.players.length===this.playersCount)),this.selected=this.mapsToDisplay[0],this.requestUpdate()}openSetup(){document.querySelector("ae-setup-map").open(this.selected)}increasePlayersCount(){this.playersCount<4?this.playersCount++:this.playersCount=2,this.filter()}decreasePlayersCount(){this.playersCount>2?this.playersCount--:this.playersCount=4,this.filter()}};d.styles=e(p||(p=c`:host{display:grid;grid-gap:16px;justify-content:center;grid-template-rows:auto auto 1fr auto auto;position:fixed;top:0;left:0;width:100%;height:100%;background:#242a45;padding:16px 0;box-sizing:border-box}.back{padding:16px;cursor:pointer;position:absolute;top:0;left:0}header{text-align:center;font-size:120%}.filters{display:flex;justify-content:center}.picker{display:grid;grid-template-columns:auto 140px auto;grid-gap:8px;align-items:center}.picker>img{cursor:pointer}.players-label{height:40px;background:#3f3845;border-radius:3px;display:flex;justify-content:center;align-items:center}.list{border:2px solid #c1b7ce;box-sizing:border-box;border-radius:3px;width:375px;overflow:auto}.list .item{display:flex;justify-content:space-between;padding:8px;cursor:pointer}.list .item.selected{background:#50587d}.list .item:not(:last-child){border-bottom:1px solid #c1b7ce}.preview{border:2px solid #c1b7ce;box-sizing:border-box;border-radius:3px;height:200px;max-width:375px;display:flex;align-items:center;justify-content:center}.preview img{max-height:100%;max-width:100%}button.submit{justify-self:center;min-width:200px;background:radial-gradient(50% 50% at 50% 50%,#44325c 21.07%,#2a1f38 100%);border-radius:8px;border:2px solid #c5c2c8;height:40px;padding:0 24px;box-sizing:border-box;outline:0;cursor:pointer;font-style:normal;font-weight:400;font-size:20px;line-height:26px;display:flex;align-items:center;justify-content:center;color:#fff}`)),t([s({type:Array})],d.prototype,"maps",void 0),t([s({type:Array})],d.prototype,"active",void 0),t([i(".item")],d.prototype,"items",void 0),d=t([a("ae-select-map")],d);
