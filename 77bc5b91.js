import{c as i}from"./d1ada6f5.js";import{c as t,_ as e,p as s,a as o,L as n,h as a}from"./06e1fa4e.js";let r,d,l,c,p=i=>i,g=class extends n{constructor(){super(...arguments),this.units=[]}render(){return a(r||(r=p` <div class="list-container"> <div class="label">Recruit unit</div> <div class="list"> ${0} </div> </div> ${0} <div class="cancel" @click="${0}">Cancel</div> `),this.units.map((i=>{var t;return a(d||(d=p` <div class="item ${0}" @click="${0}"> <div class="image" style="background-image:url(i/unit/unit-${0}-${0}.png)"></div> </div> `),i.type===(null===(t=this.selected)||void 0===t?void 0:t.type)?"active":"",(()=>this.select(i)),i.type,i.cost>this.money?"gray":this.color)})),this.selected?a(l||(l=p` <div class="unit-info"> <div class="name">${0}</div> <div class="stats"> <div class="item"> <img src="images/atk.svg" alt=""> ${0}-${0} </div> <div class="item"> <img src="images/def.svg" alt=""> ${0} </div> <div class="item"> <img src="images/mov.svg" alt=""> ${0} </div> </div> <div class="description">${0}</div> <div class="cost"> <div class="gold ${0}"> <img src="images/gold.svg" alt=""> ${0} </div> <button class="buy" ?disabled="${0}" @click="${0}">Buy</button> </div> </div> `),this.selected.name,this.selected.atk.min,this.selected.atk.max,this.selected.def,this.selected.mov,this.selected.description,this.selected.cost>this.money?"insufficient":"",this.selected.cost,this.selected.cost>this.money,this.buy):"",this.close)}open(i){this.units=[...i.revivableUnits,...i.purchasableUnits],this.color=i.color,this.money=i.money,this.style.display="grid",this.selected=null,this.storeCell=i.storeCell}close(){this.style.display="none"}select(i){this.selected=i}buy(){this.selected&&(this.selected.id?this.dispatchEvent(i("unit-store-revive",{id:this.selected.id,storeCell:this.storeCell})):this.dispatchEvent(i("unit-store-purchase",{type:this.selected.type,storeCell:this.storeCell})),this.close())}};g.styles=t(c||(c=p`:host{display:none;grid-template-rows:auto auto;align-content:start;position:fixed;top:0;left:0;width:100%;height:100%;z-index:100;background:rgba(12,10,14,.74);padding-top:80px;box-sizing:border-box}.list-container{background:radial-gradient(50% 50% at 50% 50%,#44325c 21.07%,#2a1f38 100%);border-radius:8px;border:2px solid #c5c2c8;padding:24px 8px;margin:8px;display:flex;flex-direction:column;align-items:center}.label{text-align:center;margin-bottom:24px}.list{display:flex;flex-wrap:wrap;justify-content:center}.list .item{padding:8px;cursor:pointer;box-sizing:border-box}.list .item.active,.list .item:hover{background:radial-gradient(50% 50% at 50% 50%,#44325c 21.07%,#2a1f38 100%);border-radius:8px;border:2px solid #c5c2c8;padding:6px}.list .item .image{width:48px;height:48px;background-size:100% auto;background-repeat:no-repeat;animation-duration:.6s;animation-name:unit-bg-shift;animation-iteration-count:infinite;animation-direction:normal;animation-timing-function:steps(2);animation-fill-mode:forwards}.unit-info{background:#100a17;padding:16px;margin:8px;border-radius:8px}.unit-info .stats{display:grid;grid-auto-flow:column;justify-content:start;grid-gap:24px}.unit-info .stats .item{display:flex;align-items:center}.unit-info .stats .item img{margin-right:8px;height:24px}.unit-info .cost{margin-top:24px;display:flex;justify-content:space-between}.unit-info .cost .gold{height:40px;padding:0 16px;background:#2d2733;border-radius:8px;box-sizing:border-box;font-style:normal;font-weight:400;font-size:20px;line-height:26px;display:flex;align-items:center;justify-content:center;color:#fff}.unit-info .cost .gold.insufficient{background:#5b131b}.unit-info .cost .gold img{margin-right:8px}.unit-info .cost .buy{background:radial-gradient(50% 50% at 50% 50%,#44325c 21.07%,#2a1f38 100%);border-radius:8px;border:2px solid #c5c2c8;padding:0 16px;height:40px;box-sizing:border-box;outline:0;cursor:pointer;font-style:normal;font-weight:400;font-size:20px;line-height:26px;display:flex;align-items:center;justify-content:center;color:#fff}.unit-info .cost .buy[disabled]{cursor:auto;opacity:.5}.cancel{position:absolute;bottom:24px;right:24px;height:40px;padding:0 16px;background:radial-gradient(50% 50% at 50% 50%,#44325c 21.07%,#2a1f38 100%);border-radius:8px;border:2px solid #c5c2c8;box-sizing:border-box;outline:0;cursor:pointer;font-style:normal;font-weight:400;font-size:20px;line-height:26px;display:flex;align-items:center;justify-content:center;color:#fff}`)),e([s({type:Number})],g.prototype,"money",void 0),e([s({type:Number})],g.prototype,"color",void 0),e([s({type:Array})],g.prototype,"units",void 0),e([s({type:Array})],g.prototype,"availableUnits",void 0),e([s({type:Object})],g.prototype,"selected",void 0),e([s({type:Object})],g.prototype,"storeCell",void 0),g=e([o("ae-unit-store")],g);
