import{c as e}from"./d1ada6f5.js";import{c as t,_ as i,p as s,b as a,a as r,L as l,h as o}from"./5b7dc6e2.js";let p,n,d,c=e=>e,h=class extends l{constructor(){super(...arguments),this.active=1,this.playersCount=2,this.playersOptions=[{value:2,label:"Players: 2"},{value:3,label:"Players: 3"},{value:4,label:"Players: 4"}]}render(){var e;return o(p||(p=c` <ae-nav label="Select map" @click="${0}"></ae-nav> <div class="filters"> <ae-picker .options="${0}" value="2" @picker-value-change="${0}"></ae-picker> </div> <div class="list"> ${0} </div> <div class="preview"> <img src="assets/images/maps/${0}_preview.png" alt=""> </div> <button class="submit" @click="${0}">Start</button> `),this.back,this.playersOptions,(e=>this.filtersChange(e.detail.value)),(this.mapsToDisplay||[]).map(((e,t)=>{var i;return o(n||(n=c` <div class="item ${0}" @click="${0}"> <div class="name">${0}</div> <div class="size">${0}x${0}</div> </div> `),(null===(i=this.selected)||void 0===i?void 0:i.id)===e.id?"selected":"",(()=>this.select(e)),e.name,e.size.width,e.size.height)})),null===(e=this.selected)||void 0===e?void 0:e.id,this.openSetup)}back(){this.dispatchEvent(e("route-change",{route:""}))}select(e){this.selected=e,this.requestUpdate()}connectedCallback(){super.connectedCallback(),this.initMaps()}async initMaps(){this.maps=await fetch("/assets/maps-preview.json").then((e=>e.json())),this.maps=this.maps.map((e=>({...e,name:e.i18n.en.name}))).sort(((e,t)=>e.name.localeCompare(t.name))),this.filter()}filter(){this.mapsToDisplay=this.maps.filter((e=>e.players.length===this.playersCount)),this.selected=this.mapsToDisplay[0],this.requestUpdate()}openSetup(){this.dispatchEvent(e("route-change",{route:"skirmish/setup",params:{mapId:this.selected.id}}))}filtersChange(e){this.playersCount=e,this.filter()}};h.styles=t(d||(d=c`:host{display:flex;flex-direction:column;gap:12px;position:fixed;top:0;left:0;width:100%;height:100%;background:#2e3851;box-sizing:border-box}.filters{display:flex;justify-content:center}.list{border:2px solid #c1b7ce;box-sizing:border-box;border-radius:3px;width:375px;height:400px;overflow:auto}.list .item{display:flex;justify-content:space-between;padding:8px;cursor:pointer}.list .item.selected{background:#50587d}.list .item:not(:last-child){border-bottom:1px solid #c1b7ce}.preview{border:2px solid #c1b7ce;box-sizing:border-box;border-radius:3px;height:200px;max-width:375px;display:flex;align-items:center;justify-content:center}.preview img{max-height:100%;max-width:100%}button.submit{justify-self:center;min-width:200px;background:radial-gradient(50% 50% at 50% 50%,#44325c 21.07%,#2a1f38 100%);border-radius:8px;border:2px solid #c5c2c8;height:40px;padding:0 24px;box-sizing:border-box;outline:0;cursor:pointer;font-style:normal;font-weight:400;font-size:20px;line-height:26px;display:flex;align-items:center;justify-content:center;color:#fff}`)),i([s({type:Array})],h.prototype,"maps",void 0),i([s({type:Array})],h.prototype,"active",void 0),i([a(".item")],h.prototype,"items",void 0),h=i([r("ae-select-map")],h);
